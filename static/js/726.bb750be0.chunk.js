"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[726],{1726:function(e,r,n){n.r(r),n.d(r,{default:function(){return y}});var t=n(9439),a=n(5302),o=n(5048),i=n(873),s=function(e){return e.filter},l=(0,i.P1)([s,function(e){var r,n;return null===(r=e.contacts)||void 0===r||null===(n=r.queries["getContacts(undefined)"])||void 0===n?void 0:n.data}],(function(e,r){if(""===e)return r;var n=e.toLowerCase();return r.filter((function(e){return e.name.toLowerCase().includes(n)}))})),u=n(4087),d=n(2406),c=n(6611),x=n(184);function p(){var e=(0,a.Nt)(),r=(0,t.Z)(e,1)[0],n=(0,o.v9)(l);return(0,x.jsx)(u.xu,{as:"ul",display:"flex",flexDirection:"column",alignItems:"center",children:(0,x.jsx)(u.xu,{width:"300px",border:"1px",borderColor:"black",p:5,borderRadius:4,children:n.map((function(e,n){return(0,x.jsxs)(u.xu,{as:"li",mb:4,display:"flex",alignItems:"center",justifyContent:"space-between",bg:"lightblue",p:2,borderRadius:20,boxShadow:"dark-lg",rounded:"md",_last:{mb:0},_hover:{background:"white",color:"teal.500"},children:[(0,x.jsxs)(d.x,{fontWeight:500,children:[e.name," ",e.phone]}),(0,x.jsx)(c.z,{borderRadius:"4",border:"1px",borderColor:"gray.500",_hover:{background:"teal"},onClick:function(){return r(e.id)},children:"Delete"})]},e.id)}))})})}var b=n(6895);function f(){var e=(0,o.v9)(s),r=(0,o.I0)();return(0,x.jsxs)(u.xu,{display:"flex",flexDirection:"column",alignItems:"center",mb:8,children:[(0,x.jsx)(d.x,{as:"label",fontSize:20,fontWeight:"500",display:"box",mb:4,children:"Find contacts by name"}),(0,x.jsx)(d.x,{as:"input",p:1,border:"1px",borderRadius:4,type:"text",name:"filter",value:e,onChange:function(e){return r((0,b.T)(e.target.value))}})]})}var h=n(5861),m=n(4687),v=n.n(m),g=n(3402);function j(){var e=(0,a.Tn)(),r=(0,t.Z)(e,1)[0],n=(0,a.wY)().data,o=function(){var e=(0,h.Z)(v().mark((function e(t){var a,o,i,s;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=t.target.elements,o=a.name,i=a.mobile,s=t.currentTarget,""!==o.value&&""!==i.value){e.next=6;break}return g.ZP.error("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u0438\u043b\u0438 \u0442\u0435\u043b\u0435\u0444\u043e\u043d"),e.abrupt("return");case 6:if(!n.some((function(e){return e.name.toLowerCase()===o.value.toLowerCase()}))){e.next=11;break}return g.ZP.error("\u041a\u043e\u043d\u0442\u0430\u043a\u0442 \u0443\u0436\u0435 \u0435\u0441\u0442\u044c \u0432 \u0441\u043f\u0438\u0441\u043a\u0435"),s.reset(),e.abrupt("return");case 11:return e.next=13,r({name:o.value,phone:i.value});case 13:g.ZP.success("\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d"),s.reset();case 15:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();return(0,x.jsx)(u.xu,{p:"15px",border:"1px",borderColor:"gray.500",borderRadius:"4",width:"300px",ml:"auto",mr:"auto",mb:4,children:(0,x.jsx)("form",{onSubmit:o,children:(0,x.jsxs)(u.xu,{display:"flex",flexDirection:"column",children:[(0,x.jsxs)(d.x,{as:"label",fontSize:20,fontWeight:"500",children:["Name",(0,x.jsx)(d.x,{as:"input",p:2,placeholder:"John Smith",border:"1px",borderRadius:4,name:"name",type:"text",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan"})]}),(0,x.jsxs)(d.x,{as:"label",fontSize:20,fontWeight:"500",children:["Number",(0,x.jsx)(d.x,{as:"input",p:2,placeholder:"112-15-841",border:"1px",borderRadius:4,name:"mobile",type:"tel",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +"})]}),(0,x.jsx)("br",{}),(0,x.jsx)(c.z,{borderRadius:"4",border:"1px",borderColor:"gray.500",_hover:{background:"teal"},type:"submit",children:"Add contact"})]})})})}function y(){var e=(0,a.wY)(),r=e.data,n=e.isLoading;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("section",{children:[(0,x.jsx)(d.x,{fontSize:"28",textAlign:"center",mb:5,children:"PhoneBook"}),(0,x.jsx)(j,{})]}),(0,x.jsxs)("section",{children:[(0,x.jsx)(d.x,{fontSize:"28",textAlign:"center",mb:5,children:"Contacts"}),n&&(0,x.jsx)("b",{children:"Request in progress..."}),(null===r||void 0===r?void 0:r.length)>0&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(f,{}),(0,x.jsx)(p,{})]})]})]})}},4087:function(e,r,n){n.d(r,{xu:function(){return d}});var t=n(1413),a=n(4925),o=n(795),i=n(7872),s=n(184),l=["size","centerContent"],u=["size"],d=(0,o.m)("div");d.displayName="Box";var c=(0,i.G)((function(e,r){var n=e.size,o=e.centerContent,i=void 0===o||o,u=(0,a.Z)(e,l),c=i?{display:"flex",alignItems:"center",justifyContent:"center"}:{};return(0,s.jsx)(d,(0,t.Z)({ref:r,boxSize:n,__css:(0,t.Z)((0,t.Z)({},c),{},{flexShrink:0,flexGrow:0})},u))}));c.displayName="Square",(0,i.G)((function(e,r){var n=e.size,o=(0,a.Z)(e,u);return(0,s.jsx)(c,(0,t.Z)({size:n,ref:r,borderRadius:"9999px"},o))})).displayName="Circle"}}]);
//# sourceMappingURL=726.bb750be0.chunk.js.map